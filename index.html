<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" media="screen and (max-width: 558px)" href="./phone.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <title>Screening Task</title>
</head>

<body>
    <div class="container">
        <header class="collapse-content">
            <span class="line">
                <hr />
            </span>
            <h2 class="main-heading column">YAY! Itâ€™s BOGO</h2>
            <span class="line">
                <hr />
            </span>
        </header>
        <main class="product-card">
            <label class="collapse-content">
                <input type="radio" name="product" value="product-1">
                <div class="space-between">
                    <div class="column">
                        <span class="bold">1 Unit <span class="percentage"> 10% Off</span></span>
                        <span class="secondary-text">Standard Price</span>
                    </div>
                    <div class="column empty"></div>
                    <div class="column end">
                        <span class="bold price">$10.00 USD </span>
                        <span class="cutted">$24.00 USD</span>
                    </div>
                </div>
            </label>
            <div class="expand">
                <div class="details">
                    <span></span>
                    <span class="">Size</span>
                    <span class="">Colour</span>
                    <span class="serial">#1</span>
                    <select class="">
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                    </select>
                    <select class="">
                        <option value="Black">Black</option>
                        <option value="White">White</option>
                        <option value="Red">Red</option>
                    </select>
                </div>
            </div>
        </main>
        <div class="product-card most-popular">
            <label class="extra-space">
                <input type="radio" name="product" value="product-1">
                <div class="space-between">
                    <div class="column">
                        <span class="bold">2 Unit <span class="percentage"> 20% Off</span></span>
                        <span class="secondary-text">Standard Price</span>
                    </div>
                    <div class="column empty"></div>
                    <div class="column end">
                        <span class="bold price">$18.00 USD </span>
                        <span class="cutted">$24.00 USD</span>
                    </div>
                </div>
            </label>
            <span class="badge">MOST POPULAR</span>
            <div class="expand">
                <div class="details">
                    <span></span>
                    <span class="">Size</span>
                    <span class="">Colour</span>
                    <span class="serial">#1</span>
                    <select class="">
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                    </select>
                    <select class="">
                        <option value="Black">Black</option>
                        <option value="White">White</option>
                        <option value="Red">Red</option>
                    </select>
                    <span class="serial">#2</span>
                    <select class="">
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                    </select>
                    <select class="">
                        <option value="Black">Black</option>
                        <option value="White">White</option>
                        <option value="Red">Red</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="product-card">
            <label>
                <input type="radio" name="product" value="product-1">
                <div class="space-between">
                    <div class="column">
                        <span class="bold">3 Unit <span class="percentage"> 30% Off</span></span>
                        <span class="secondary-text">Standard Price</span>
                    </div>
                    <div class="column empty"></div>
                    <div class="column end">
                        <span class="bold price">$24.00 USD </span>
                        <span class="cutted">$24.00 USD</span>
                    </div>
                </div>
            </label>
            <div class="expand">
                <div class="details">
                    <span></span>
                    <span class="">Size</span>
                    <span class="">Colour</span>
                    <span class="serial">#1</span>
                    <select class="">
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                    </select>
                    <select class="">
                        <option value="Black">Black</option>
                        <option value="White">White</option>
                        <option value="Red">Red</option>
                    </select>
                    <span class="serial">#2</span>
                    <select class="">
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                    </select>
                    <select class="">
                        <option value="Black">Black</option>
                        <option value="White">White</option>
                        <option value="Red">Red</option>
                    </select>
                    <span class="serial">#3</span>
                    <select class="">
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                    </select>
                    <select class="">
                        <option value="Black">Black</option>
                        <option value="White">White</option>
                        <option value="Red">Red</option>
                    </select>
                </div>
            </div>
        </div>
        <footer>
            <div class="between">
                <span class="bold pink">Free Delivery</span>
                <span class="bold" id="total">Total: $00.00 USD</span>
            </div>
            <div>
                <button><i class="fas fa-plus"></i>Add to Cart</button>
            </div>
            <div class="author">
                @ Powered by Pumper
            </div>
        </footer>
    </div>

    <script>
        const productCards = document.querySelectorAll('.product-card');
        const totalPriceElement = document.querySelector('#total');

        productCards.forEach((card) => {
            card.addEventListener('click', (event) => {
                // Collapse all other product cards
                productCards.forEach((otherCard) => {
                    if (otherCard !== card) {
                        otherCard.classList.remove('expanded');
                    }
                });

                // Toggle the current product card
                card.classList.add('expanded');
            });

            // Add event listener to select tags to prevent collapse
            const selectTags = card.querySelectorAll('select');
            selectTags.forEach((select) => {
                select.addEventListener('click', (event) => {
                    event.stopPropagation();
                });
            });

            // Add event listener to radio buttons to update total price
            const radioButton = card.querySelector('input[type="radio"]');
            radioButton.addEventListener('change', (event) => {
                if (event.target.checked) {
                    const priceElement = card.querySelector('.price');
                    const price = priceElement.textContent;
                    totalPriceElement.textContent = `Total: ${price}`;
                }
            });
        });
    </script>
</body>

</html>